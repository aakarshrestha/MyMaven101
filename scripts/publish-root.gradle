// Create variables with empty default values
ext["ossrhUsername"] = 'aakarshrestha123'
ext["ossrhPassword"] = 'Kathmandu123!'
ext["sonatypeStagingProfileId"] = ''
ext["signing.keyId"] = '3C6C50BD'
ext["signing.password"] = ''
ext["signing.key"] = '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'
ext["snapshot"] = ''

File secretPropsFile = project.rootProject.file('local.properties')
if (secretPropsFile.exists()) {
    // Read local.properties file first if it exists
    Properties p = new Properties()
    new FileInputStream(secretPropsFile).withCloseable { is -> p.load(is) }
    p.each { name, value -> ext[name] = value }
} else {
    // Use system environment variables
    ext["ossrhUsername"] = System.getenv('OSSRH_USERNAME')
    ext["ossrhPassword"] = System.getenv('OSSRH_PASSWORD')
    ext["sonatypeStagingProfileId"] = System.getenv('SONATYPE_STAGING_PROFILE_ID')
    ext["signing.keyId"] = System.getenv('SIGNING_KEY_ID')
    ext["signing.password"] = System.getenv('SIGNING_PASSWORD')
    ext["signing.key"] = System.getenv('SIGNING_KEY')
    ext["snapshot"] = System.getenv('SNAPSHOT')
}

if (snapshot) {
    ext["rootVersionName"] = "snapshot-1"
} else {
    ext["rootVersionName"] = "snapshot-name"
}

// Set up Sonatype repository
nexusPublishing {
    repositories {
        sonatype {
            stagingProfileId = sonatypeStagingProfileId
            username = ossrhUsername
            password = ossrhPassword
            version = rootVersionName
            nexusUrl.set(uri("https://s01.oss.sonatype.org/service/local/"))
            snapshotRepositoryUrl.set(uri("https://s01.oss.sonatype.org/content/repositories/snapshots/"))
        }
    }
}